(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[872],{5793:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(5155),r=a(2115),n=a(6874),l=a.n(n),d=a(7168),o=a(8482),c=a(6559),i=a(4616),x=a(1154),m=a(7434),u=a(2525),h=a(5598),f=a(1475);let g=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});function j(){let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[j,b]=(0,r.useState)(!1),[p,N]=(0,r.useState)(!1),[v,y]=(0,r.useState)(null),[w,S]=(0,r.useState)(null);(0,r.useEffect)(()=>{D()},[]);let D=async()=>{try{n(!0),S(null);let e=await (0,f.getDataSources)();t(e)}catch(e){S(e instanceof Error?e.message:"An error occurred"),console.error("Error fetching data sources:",e)}finally{n(!1)}},k=e=>{y(e),N(!0)},C=async()=>{if(v)try{b(!0),await (0,f.f4)(v.id),await D(),N(!1),y(null)}catch(e){S(e instanceof Error?e.message:"Failed to delete data source"),console.error("Error deleting data source:",e),N(!1)}finally{b(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b border-border bg-card",children:(0,s.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-mono font-bold text-foreground",children:"Data Sources"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your document collections"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(h.U,{}),(0,s.jsx)(l(),{href:"/data-sources/create",children:(0,s.jsxs)(d.$,{className:"gap-2",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),"Create Data Source"]})})]})]})})}),(0,s.jsxs)("main",{className:"container mx-auto px-6 py-8",children:[a&&(0,s.jsxs)(o.Zp,{className:"p-12 border border-border bg-card text-center",children:[(0,s.jsx)(x.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 animate-spin"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading data sources..."})]}),w&&!a&&(0,s.jsxs)(o.Zp,{className:"p-12 border border-destructive bg-card text-center",children:[(0,s.jsx)("p",{className:"text-destructive mb-4",children:w}),(0,s.jsx)(d.$,{onClick:D,variant:"outline",children:"Try Again"})]}),!a&&!w&&0===e.length&&(0,s.jsxs)(o.Zp,{className:"p-12 border border-border bg-card text-center",children:[(0,s.jsx)(m.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No data sources yet"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Create your first data source to get started"}),(0,s.jsx)(l(),{href:"/data-sources/create",children:(0,s.jsxs)(d.$,{children:[(0,s.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Create Data Source"]})})]}),!a&&!w&&e.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4",children:e.map(e=>(0,s.jsx)(o.Zp,{className:"p-6 border border-border bg-card hover:border-primary/50 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-mono font-semibold text-foreground",children:e.name}),(0,s.jsx)("span",{className:"text-xs font-mono px-2 py-1 bg-primary/10 text-primary border border-primary/20",children:(0,f.yu)(e.dataSourceType)})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4 leading-relaxed break-all",children:e.dataSourceValue}),(0,s.jsxs)("div",{className:"flex items-center gap-6 text-xs text-muted-foreground font-mono",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("span",{children:["Created ",g(e.createdDate)]})}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground/70",children:(0,s.jsxs)("span",{children:["ID: ",e.id]})})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2 ml-4",children:(0,s.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>k(e),disabled:j,className:"gap-2 bg-transparent hover:border-destructive hover:text-destructive",children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),"Delete"]})})]})},e.id))})]}),(0,s.jsx)(c.Lt,{open:p,onOpenChange:N,children:(0,s.jsxs)(c.EO,{children:[(0,s.jsxs)(c.wd,{children:[(0,s.jsx)(c.r7,{children:"Delete Data Source"}),(0,s.jsxs)(c.$v,{children:['Are you sure you want to delete "',null==v?void 0:v.name,'"? This action cannot be undone and will remove all associated data.']})]}),(0,s.jsxs)(c.ck,{children:[(0,s.jsx)(c.Zr,{disabled:j,children:"Cancel"}),(0,s.jsxs)(c.Rx,{onClick:C,disabled:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[j&&(0,s.jsx)(x.A,{className:"h-4 w-4 animate-spin mr-2"}),j?"Deleting...":"Delete"]})]})]})})]})}},6559:(e,t,a)=>{"use strict";a.d(t,{$v:()=>h,EO:()=>i,Lt:()=>d,Rx:()=>f,Zr:()=>g,ck:()=>m,r7:()=>u,wd:()=>x});var s=a(5155);a(2115);var r=a(6223),n=a(3999),l=a(7168);function d(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"alert-dialog",...t})}function o(e){let{...t}=e;return(0,s.jsx)(r.ZL,{"data-slot":"alert-dialog-portal",...t})}function c(e){let{className:t,...a}=e;return(0,s.jsx)(r.hJ,{"data-slot":"alert-dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{}),(0,s.jsx)(r.UC,{"data-slot":"alert-dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...a})]})}function x(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function m(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function u(e){let{className:t,...a}=e;return(0,s.jsx)(r.hE,{"data-slot":"alert-dialog-title",className:(0,n.cn)("text-lg font-semibold",t),...a})}function h(e){let{className:t,...a}=e;return(0,s.jsx)(r.VY,{"data-slot":"alert-dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...a})}function f(e){let{className:t,...a}=e;return(0,s.jsx)(r.rc,{className:(0,n.cn)((0,l.r)(),t),...a})}function g(e){let{className:t,...a}=e;return(0,s.jsx)(r.ZD,{className:(0,n.cn)((0,l.r)({variant:"outline"}),t),...a})}},7439:(e,t,a)=>{Promise.resolve().then(a.bind(a,5793))}},e=>{var t=t=>e(e.s=t);e.O(0,[274,542,57,441,684,358],()=>t(7439)),_N_E=e.O()}]);