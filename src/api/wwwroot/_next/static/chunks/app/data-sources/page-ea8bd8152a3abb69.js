(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[872],{5293:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>j});var t=s(5155),a=s(2115),c=s(6874),d=s.n(c),n=s(7168),o=s(8482),l=s(4616),i=s(1154),x=s(7434);let m=(0,s(9946).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var u=s(5598),h=s(1475);let b=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});function j(){let[e,r]=(0,a.useState)([]),[s,c]=(0,a.useState)(!0),[j,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{g()},[]);let g=async()=>{try{c(!0),f(null);let e=await (0,h.getDataSources)();r(e)}catch(e){f(e instanceof Error?e.message:"An error occurred"),console.error("Error fetching data sources:",e)}finally{c(!1)}},p=async e=>{if(confirm("Are you sure you want to delete this data source? This action cannot be undone."))try{await (0,h.f4)(e),await g()}catch(e){alert(e instanceof Error?e.message:"Failed to delete data source"),console.error("Error deleting data source:",e)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("header",{className:"border-b border-border bg-card",children:(0,t.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-mono font-bold text-foreground",children:"Data Sources"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your document collections"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(u.U,{}),(0,t.jsx)(d(),{href:"/data-sources/create",children:(0,t.jsxs)(n.$,{className:"gap-2",children:[(0,t.jsx)(l.A,{className:"h-4 w-4"}),"Create Data Source"]})})]})]})})}),(0,t.jsxs)("main",{className:"container mx-auto px-6 py-8",children:[s&&(0,t.jsxs)(o.Zp,{className:"p-12 border border-border bg-card text-center",children:[(0,t.jsx)(i.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 animate-spin"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading data sources..."})]}),j&&!s&&(0,t.jsxs)(o.Zp,{className:"p-12 border border-destructive bg-card text-center",children:[(0,t.jsx)("p",{className:"text-destructive mb-4",children:j}),(0,t.jsx)(n.$,{onClick:g,variant:"outline",children:"Try Again"})]}),!s&&!j&&0===e.length&&(0,t.jsxs)(o.Zp,{className:"p-12 border border-border bg-card text-center",children:[(0,t.jsx)(x.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No data sources yet"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"Create your first data source to get started"}),(0,t.jsx)(d(),{href:"/data-sources/create",children:(0,t.jsxs)(n.$,{children:[(0,t.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Create Data Source"]})})]}),!s&&!j&&e.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:e.map(e=>(0,t.jsx)(o.Zp,{className:"p-6 border border-border bg-card hover:border-primary/50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-mono font-semibold text-foreground",children:e.collectionName}),(0,t.jsx)("span",{className:"text-xs font-mono px-2 py-1 bg-primary/10 text-primary border border-primary/20",children:(0,h.yu)(e.dataSourceType)})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4 leading-relaxed break-all",children:e.dataSourceValue}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-xs text-muted-foreground font-mono",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("span",{children:["Created ",b(e.createdDate)]})}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground/70",children:(0,t.jsxs)("span",{children:["ID: ",e.id]})})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 ml-4",children:(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>p(e.id),className:"gap-2 bg-transparent hover:border-destructive hover:text-destructive",children:[(0,t.jsx)(m,{className:"h-4 w-4"}),"Delete"]})})]})},e.id))})]})]})}},7439:(e,r,s)=>{Promise.resolve().then(s.bind(s,5293))}},e=>{var r=r=>e(e.s=r);e.O(0,[274,472,441,684,358],()=>r(7439)),_N_E=e.O()}]);