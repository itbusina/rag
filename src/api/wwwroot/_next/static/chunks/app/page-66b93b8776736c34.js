(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[475,974],{373:(e,t,a)=>{Promise.resolve().then(a.bind(a,1926))},1154:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1362:(e,t,a)=>{"use strict";a.d(t,{D:()=>l,N:()=>d});var s=a(2115),r=(e,t,a,s,r,n,c,o)=>{let i=document.documentElement,l=["light","dark"];function d(t){var a;(Array.isArray(e)?e:[e]).forEach(e=>{let a="class"===e,s=a&&n?r.map(e=>n[e]||e):r;a?(i.classList.remove(...s),i.classList.add(n&&n[t]?n[t]:t)):i.setAttribute(e,t)}),a=t,o&&l.includes(a)&&(i.style.colorScheme=a)}if(s)d(s);else try{let e=localStorage.getItem(t)||a,s=c&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;d(s)}catch(e){}},n=["light","dark"],c="(prefers-color-scheme: dark)",o=s.createContext(void 0),i={setTheme:e=>{},themes:[]},l=()=>{var e;return null!=(e=s.useContext(o))?e:i},d=e=>s.useContext(o)?s.createElement(s.Fragment,null,e.children):s.createElement(h,{...e}),u=["light","dark"],h=e=>{let{forcedTheme:t,disableTransitionOnChange:a=!1,enableSystem:r=!0,enableColorScheme:i=!0,storageKey:l="theme",themes:d=u,defaultTheme:h=r?"system":"light",attribute:x="data-theme",value:y,children:b,nonce:v,scriptProps:k}=e,[j,w]=s.useState(()=>p(l,h)),[N,A]=s.useState(()=>"system"===j?g():j),T=y?Object.values(y):d,E=s.useCallback(e=>{let t=e;if(!t)return;"system"===e&&r&&(t=g());let s=y?y[t]:t,c=a?f(v):null,o=document.documentElement,l=e=>{"class"===e?(o.classList.remove(...T),s&&o.classList.add(s)):e.startsWith("data-")&&(s?o.setAttribute(e,s):o.removeAttribute(e))};if(Array.isArray(x)?x.forEach(l):l(x),i){let e=n.includes(h)?h:null,a=n.includes(t)?t:e;o.style.colorScheme=a}null==c||c()},[v]),S=s.useCallback(e=>{let t="function"==typeof e?e(j):e;w(t);try{localStorage.setItem(l,t)}catch(e){}},[j]),C=s.useCallback(e=>{A(g(e)),"system"===j&&r&&!t&&E("system")},[j,t]);s.useEffect(()=>{let e=window.matchMedia(c);return e.addListener(C),C(e),()=>e.removeListener(C)},[C]),s.useEffect(()=>{let e=e=>{e.key===l&&(e.newValue?w(e.newValue):S(h))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[S]),s.useEffect(()=>{E(null!=t?t:j)},[t,j]);let M=s.useMemo(()=>({theme:j,setTheme:S,forcedTheme:t,resolvedTheme:"system"===j?N:j,themes:r?[...d,"system"]:d,systemTheme:r?N:void 0}),[j,S,t,N,r,d]);return s.createElement(o.Provider,{value:M},s.createElement(m,{forcedTheme:t,storageKey:l,attribute:x,enableSystem:r,enableColorScheme:i,defaultTheme:h,value:y,themes:d,nonce:v,scriptProps:k}),b)},m=s.memo(e=>{let{forcedTheme:t,storageKey:a,attribute:n,enableSystem:c,enableColorScheme:o,defaultTheme:i,value:l,themes:d,nonce:u,scriptProps:h}=e,m=JSON.stringify([n,a,i,t,d,l,c,o]).slice(1,-1);return s.createElement("script",{...h,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(r.toString(),")(").concat(m,")")}})}),p=(e,t)=>{let a;try{a=localStorage.getItem(e)||void 0}catch(e){}return a||t},f=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},g=e=>(e||(e=window.matchMedia(c)),e.matches?"dark":"light")},1475:(e,t,a)=>{"use strict";a.d(t,{createAssistant:()=>i,createConfluenceDataSource:()=>g,createDataSources:()=>f,createGitHubDataSource:()=>x,deleteAssistant:()=>d,f4:()=>y,getAssistant:()=>o,sU:()=>c,yu:()=>b,getDataSources:()=>p,Zi:()=>l,updateAssistant:()=>u});let s=a(9509).env.NEXT_PUBLIC_API_URL||"";class r{async getAll(){let e=await fetch("".concat(this.baseUrl,"/assistants"));if(!e.ok)throw Error("Failed to fetch assistants: ".concat(e.statusText));return e.json()}async getById(e){let t=await fetch("".concat(this.baseUrl,"/assistants/").concat(e));if(!t.ok){if(404===t.status)return null;throw Error("Failed to fetch assistant: ".concat(t.statusText))}return t.json()}async create(e){let t=await fetch("".concat(this.baseUrl,"/assistants"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create assistant: ".concat(t.statusText));return t.json()}async query(e,t){let a=await fetch("".concat(this.baseUrl,"/assistants/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to query assistant: ".concat(a.statusText));return a.json()}async delete(e){let t=await fetch("".concat(this.baseUrl,"/assistants/").concat(e),{method:"DELETE"});if(!t.ok)throw Error("Failed to delete assistant: ".concat(t.statusText))}async update(e,t){let a=await fetch("".concat(this.baseUrl,"/assistants/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to update assistant: ".concat(a.statusText))}constructor(e=s){this.baseUrl=e}}let n=new r,c=()=>n.getAll(),o=e=>n.getById(e),i=e=>n.create(e),l=(e,t)=>n.query(e,t),d=e=>n.delete(e),u=(e,t)=>n.update(e,t);class h{async getAll(){let e=await fetch("".concat(this.baseUrl,"/datasources"));if(!e.ok)throw Error("Failed to fetch data sources: ".concat(e.statusText));return e.json()}async getById(e){return(await this.getAll()).find(t=>t.id===e)||null}async create(e,t){let a=new FormData;e.forEach(e=>{a.append("files",e)}),a.append("name",t);let s=await fetch("".concat(this.baseUrl,"/datasources?type=file"),{method:"POST",body:a});if(!s.ok)throw Error("Failed to create data sources: ".concat(s.statusText));return s.json()}async createConfluence(e){let t=new FormData;t.append("name",e.name),t.append("url",e.serverUrl),t.append("token",e.personalToken),t.append("parentPageId",e.parentUrl);let a=await fetch("".concat(this.baseUrl,"/datasources?type=confluence"),{method:"POST",body:t});if(!a.ok)throw Error("Failed to create Confluence data source: ".concat(a.statusText));return a.json()}async createGitHub(e){let t=new FormData;t.append("name",e.name),t.append("url",e.repositoryUrl),e.accessToken&&t.append("token",e.accessToken);let a=await fetch("".concat(this.baseUrl,"/datasources?type=github"),{method:"POST",body:t});if(!a.ok)throw Error("Failed to create GitHub data source: ".concat(a.statusText));return a.json()}async delete(e){let t=await fetch("".concat(this.baseUrl,"/datasources/").concat(e),{method:"DELETE"});if(!t.ok)throw Error("Failed to delete data source: ".concat(t.statusText))}constructor(e=s){this.baseUrl=e}}let m=new h,p=()=>m.getAll(),f=(e,t)=>m.create(e,t),g=e=>m.createConfluence(e),x=e=>m.createGitHub(e),y=e=>m.delete(e),b=e=>{switch(e){case 0:return"Stream";case 1:return"File";case 2:return"GitHub";case 3:return"URL";case 4:return"Sitemap";case 5:return"Confluence";default:return"Unknown"}}},1926:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(5155),r=a(2115),n=a(6874),c=a.n(n),o=a(7168),i=a(8482),l=a(4616),d=a(1154),u=a(7434),h=a(4213),m=a(9946);let p=(0,m.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),f=(0,m.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var g=a(7971),x=a(1475);function y(){let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[m,y]=(0,r.useState)(null);(0,r.useEffect)(()=>{b()},[]);let b=async()=>{try{n(!0),y(null);let e=await (0,x.sU)();t(e)}catch(e){y(e instanceof Error?e.message:"An error occurred"),console.error("Error fetching assistants:",e)}finally{n(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b border-border bg-card",children:(0,s.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-mono font-bold text-foreground",children:"Assistants"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your AI assistants"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(g.U,{}),(0,s.jsx)(c(),{href:"/assistants/create",children:(0,s.jsxs)(o.$,{className:"gap-2",children:[(0,s.jsx)(l.A,{className:"h-4 w-4"}),"Create Assistant"]})})]})]})})}),(0,s.jsxs)("main",{className:"container mx-auto px-6 py-8",children:[a&&(0,s.jsxs)(i.Zp,{className:"p-12 border border-border bg-card text-center",children:[(0,s.jsx)(d.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 animate-spin"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading assistants..."})]}),m&&!a&&(0,s.jsxs)(i.Zp,{className:"p-12 border border-destructive bg-card text-center",children:[(0,s.jsx)("p",{className:"text-destructive mb-4",children:m}),(0,s.jsx)(o.$,{onClick:b,variant:"outline",children:"Try Again"})]}),!a&&!m&&0===e.length&&(0,s.jsxs)(i.Zp,{className:"p-12 border border-border bg-card text-center",children:[(0,s.jsx)(u.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No assistants yet"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Create your first RAG assistant to get started"}),(0,s.jsx)(c(),{href:"/assistants/create",children:(0,s.jsxs)(o.$,{children:[(0,s.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Create Assistant"]})})]}),!a&&!m&&e.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4",children:e.map(e=>(0,s.jsx)(i.Zp,{className:"p-6 border border-border bg-card hover:border-primary/50 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-lg font-mono font-semibold text-foreground mb-2",children:e.name}),(0,s.jsx)("div",{className:"flex items-center gap-6 text-xs text-muted-foreground font-mono mb-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-3 w-3"}),(0,s.jsxs)("span",{children:[e.dataSources.length," ",1===e.dataSources.length?"data source":"data sources"]})]})}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground/70",children:(0,s.jsxs)("span",{children:["ID: ",e.id]})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,s.jsx)(c(),{href:"/assistants/chat?id=".concat(e.id),children:(0,s.jsxs)(o.$,{variant:"outline",size:"sm",className:"gap-2 bg-transparent",children:[(0,s.jsx)(p,{className:"h-4 w-4"}),"Chat"]})}),(0,s.jsx)(c(),{href:"/assistants/edit?id=".concat(e.id),children:(0,s.jsxs)(o.$,{variant:"outline",size:"sm",className:"gap-2 bg-transparent",children:[(0,s.jsx)(f,{className:"h-4 w-4"}),"Edit"]})})]})]})},e.id))})]})]})}},2098:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},3509:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},3999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(2596),r=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},4213:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},4616:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7168:(e,t,a)=>{"use strict";a.d(t,{$:()=>i,r:()=>o});var s=a(5155);a(2115);var r=a(9708),n=a(2085),c=a(3999);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function i(e){let{className:t,variant:a,size:n,asChild:i=!1,...l}=e,d=i?r.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,c.cn)(o({variant:a,size:n,className:t})),...l})}},7434:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7971:(e,t,a)=>{"use strict";a.d(t,{U:()=>l});var s=a(5155),r=a(2115),n=a(2098),c=a(3509),o=a(1362),i=a(7168);function l(){let{theme:e,setTheme:t}=(0,o.D)(),[a,l]=r.useState(!1);return(r.useEffect(()=>{l(!0)},[]),a)?(0,s.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>t("dark"===e?"light":"dark"),className:"w-9 h-9 p-0",children:["dark"===e?(0,s.jsx)(n.A,{className:"h-4 w-4"}):(0,s.jsx)(c.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]}):(0,s.jsx)(i.$,{variant:"outline",size:"sm",className:"w-9 h-9 p-0 bg-transparent",children:(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})})}},8482:(e,t,a)=>{"use strict";a.d(t,{Zp:()=>n});var s=a(5155);a(2115);var r=a(3999);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}}},e=>{var t=t=>e(e.s=t);e.O(0,[274,441,684,358],()=>t(373)),_N_E=e.O()}]);